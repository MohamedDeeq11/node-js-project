<!DOCTYPE html>
<html lang="en">
<head>
    	
   <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="author" content="DexignLab" >
	<meta name="robots" content="" >
	<meta name="keywords" content="school, school admin, education, academy, admin dashboard, college, college management, education management, institute, school management, school management system, student management, teacher management, university, university management" >
	<meta name="description" content="Discover Akademi - the ultimate admin dashboard and Bootstrap 5 template. Specially designed for professionals, and for business. Akademi provides advanced features and an easy-to-use interface for creating a top-quality website with School and Education Dashboard" >
	<meta property="og:title" content="Akademi : School and Education Management Admin Dashboard Template" >
	<meta property="og:description" content="Akademi - the ultimate admin dashboard and Bootstrap 5 template. Specially designed for professionals, and for business. Akademi provides advanced features and an easy-to-use interface for creating a top-quality website with School and Education Dashboard">
	<meta property="og:image" content="https://akademi.dexignlab.com/xhtml/social-image.png" >
	<meta name="format-detection" content="telephone=no">

	<!-- Mobile Specific -->
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Page Title Here -->
	<title>Expense Management System</title>

<!-- FAVICONS ICON -->
<link rel="shortcut icon" type="image/png" href="images/money-bag.png" >
	<link href="vendor/wow-master/css/libs/animate.css" rel="stylesheet">
	<link href="vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
	<link rel="stylesheet" href="./vendor/jquery-nice-select/css/nice-select.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />

	 <link href="vendor/datatables/css/jquery.dataTables.min.css" rel="stylesheet">
	<!--swiper-slider-->
	
	<!-- Style css -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
	
</head>
<body>

    <!--*******************
        Preloader start
    ********************-->
	 	
    <div id="preloader">
	  <div class="loader">
		<div class="dots">
			  <div class="dot mainDot"></div>
			  <div class="dot"></div>
			  <div class="dot"></div>
			  <div class="dot"></div>
			  <div class="dot"></div>
		</div>
			
		</div>
	</div>
    <!--*******************
        Preloader end
    ********************-->

    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">
	
        <!--**********************************
            Nav header start
        ***********************************-->
        <div class="nav-header" >
            <a href="dashboard" class="brand-logo ml-10">
				
				<h3 style="color: white;">Expense System</h3>
				<div class="brand-title" style="margin-top:20px">
				
			  </div> 
            </a>
			

            <div class="nav-control">
                <div class="hamburger">
                    <span class="line"></span><span class="line"></span><span class="line"></span>
					<svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
						<rect x="22" y="11" width="4" height="4" rx="2" fill="#2A353A"/>
						<rect x="11" width="4" height="4" rx="2" fill="#2A353A"/>
						<rect x="22" width="4" height="4" rx="2" fill="#2A353A"/>
						<rect x="11" y="11" width="4" height="4" rx="2" fill="#2A353A"/>
						<rect x="11" y="22" width="4" height="4" rx="2" fill="#2A353A"/>
						<rect width="4" height="4" rx="2" fill="#2A353A"/>
						<rect y="11" width="4" height="4" rx="2" fill="#2A353A"/>
						<rect x="22" y="22" width="4" height="4" rx="2" fill="#2A353A"/>
						<rect y="22" width="4" height="4" rx="2" fill="#2A353A"/>
					</svg>		
                </div>
            </div>
        </div>
        <!--**********************************
            Nav header end
        ***********************************-->
		
		<!--**********************************
            Chat box start
        ***********************************-->
		
		<!--**********************************
            Chat box End
        ***********************************-->
		
		<!--**********************************
            Header start
        ***********************************-->
        <%- include('layouts/header') %>
			<!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
        <%- include('layouts/Sidebar') %>
        <!--**********************************
            Sidebar end
        ***********************************-->
        
		
		<!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body " >
 
            <div class="container-fluid">
                <div class="row" >
                    <!-- Column starts -->
                    <div class="col-xl-12">
                        <div class="card" id="bootstrap-table4">
                        
                
                            <!-- /tab-content -->
                            
                            <div class="tab-content" id="myTabContent-3">
                                <h4 style="margin-top: 10px;margin-left:10px">Search Order_History Report</h4>
                                <hr>
                                <div class="tab-pane fade show active" id="withoutBorder" role="tabpanel" aria-labelledby="home-tab-3">
                                    <div class="card-body p-0">
                
                                        <form method="POST" id="reportForm">
                                            <div class="card-body">
                                              <div class="row">
                                                <div class="col-md-3 mb-3">
                                                  <label for="reportType" class="form-label text-primary">Report Type</label>
                                                  <select id="reportType" name="reportType">
                                                    <option value="income">Income</option>
                                                    <option value="expense">Expense</option>
                                                  </select>
                                                </div>
                                                <div class="col-md-3 mb-3">
                                                  <label for="startDate" class="form-label text-primary">Start Date</label>
                                                  <input type="date" class="form-control" name="startDate" id="startDate" placeholder="Enter Start Date">
                                                </div>
                                                <div class="col-md-3 mb-3">
                                                  <label for="endDate" class="form-label text-primary">End Date</label>
                                                  <input type="date" class="form-control" name="endDate" id="endDate" placeholder="Enter End Date">
                                                </div>
                                                <div class="col-md-3 mb-3" style="margin-top: 25px">
                                                  <button type="button" id="searchButton" class="btn btn-primary">Search</button>
                                                  <span></span>
                                                  <button type="reset" class="btn btn-warning" style="margin-left: 10px">Reset</button>
                                                </div>
                                              </div>
                                            </div>
                                          </form>
                                    </div>
                                </div>
                
                            </div>
                            <!-- /tab-content -->
                
                        </div>
                    </div>
                    <div class="col-xl-12">
                        <div class="card" id="bootstrap-table4">
                         
                
                            <!-- /tab-content -->
                
                            <div class="tab-content" id="myTabContent-3">
                                <div class="tab-pane fade show active" id="withoutBorder" role="tabpanel" aria-labelledby="home-tab-3">
                                    <div class="card-body p-0">   
                                        <h4 style="margin-top: 10px;margin-left:10px">Order_History List</h4>
                                        <hr>
                                        <div class="table-responsive">
                                            <table class="table table-striped table-responsive-sm">
                                                <thead>
                                                  <tr>
                                                    <th>ID</th>
                                                    <th>Amount</th>
                                                    <th>Description</th>
                                                    <th>Date</th>
                                                  </tr>
                                                </thead>
                                                <tbody id="reportTableBody">
                                                  <!-- Table rows will be dynamically added here -->
                                                </tbody>
                                              </table>
                                              
                                        </div>
                                    </div>
                                </div>
                
                            </div>
                            <!-- /tab-content -->
                
                        </div>
                    </div>
                </div>
            </div>
        
        </div>
     
                
		
        <!--**********************************
            Content body end
        ***********************************-->
        <%- include('layouts/footer') %>

        
		

      
        <!--**********************************
            Footer end
        ***********************************-->

		<!--**********************************
           Support ticket button start
        ***********************************-->
		
        <!--**********************************
           Support ticket button end
        ***********************************-->


	</div>
    <!--**********************************
        Main wrapper end
    ***********************************-->


    <!--**********************************
        Scripts
    ***********************************-->
  
   
    <!-- Required vendors -->
    <script src="vendor/global/global.min.js"></script>
	<script src="vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
	
	  <!-- Datatable -->
    <script src="vendor/datatables/js/jquery.dataTables.min.js"></script>
    <script src="js/plugins-init/datatables.init.js"></script>
	<!-- Apex Chart -->
	
	<!-- Dashboard 1 -->
	<script src="js/dashboard/dashboard-2.js"></script>
	<script src="vendor/chart.js/Chart.bundle.min.js"></script>
	<!-- Apex Chart -->
	<script src="vendor/apexchart/apexchart.js"></script>
	
	<!-- Chart piety plugin files -->

	<script src="vendor/jquery-nice-select/js/jquery.nice-select.min.js"></script>

	<script src="vendor/wow-master/dist/wow.min.js"></script>
	
    <script src="js/custom.min.js"></script>
	<script src="js/dlabnav-init.js"></script>
	  <script>
$(document).ready(function() {
  $("#searchButton").on("click", function() {
    const reportType = $("#reportType").val();
    const startDate = $("#startDate").val();
    const endDate = $("#endDate").val();

    $.ajax({
      url: "/fetch-report", // Update the URL based on your server route
      method: "POST",
      data: { reportType: reportType, startDate: startDate, endDate: endDate },
      success: function(data) {
        $("#reportTableBody").empty();

        data.forEach(function(row) {
          const newRow = "<tr>";
          newRow += "<td>" + row.id + "</td>";
          newRow += "<td>" + row.amount + "</td>";
          newRow += "<td>" + row.description + "</td>";
          newRow += "<td>" + row.income_date + "</td>";
          newRow += "</tr>";

          $("#reportTableBody").append(newRow);
        });
      },
      error: function() {
        console.error("Error fetching report data");
      }
    });
  });
});

    </script>
   
	

</body>
</html>